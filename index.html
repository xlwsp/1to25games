<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>数字順クリックゲーム 5×5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      text-align: center;
      font-family: sans-serif;
      margin: 0;
      padding: 10px;
    }

    h1 {
      font-size: 20px;
      margin-bottom: 5px;
    }

    p {
      margin: 5px;
      font-size: 16px;
    }

    #game {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      max-width: 350px;
      margin: 15px auto;
    }

    .box {
      background: #ddd;
      aspect-ratio: 1 / 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      border-radius: 8px;
      user-select: none;
      cursor: pointer;
    }

    .done {
      background: #8f8;
      cursor: default;
    }

    button {
      font-size: 16px;
      padding: 10px 20px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h1>1〜25を順番にタップ！</h1>

<p id="time">タイム：--</p>
<p id="best">ベストタイム：--</p>

<div id="game"></div>

<button onclick="start()">もう一回</button>

<script>
  const game = document.getElementById("game");
  const timeText = document.getElementById("time");
  const bestText = document.getElementById("best");

  let next, startTime;
  let bestTime = localStorage.getItem("bestTime25");

  if (bestTime) {
    bestText.textContent = "ベストタイム：" + bestTime + " 秒";
  }

  function start() {
    game.innerHTML = "";
    timeText.textContent = "タイム：--";
    next = 1;
    startTime = null;

    let numbers = [...Array(25)].map((_, i) => i + 1);
    numbers.sort(() => Math.random() - 0.5);

    numbers.forEach(num => {
      const div = document.createElement("div");
      div.textContent = num;
      div.className = "box";

      div.onclick = () => {
        if (num === next) {
          if (next === 1) startTime = Date.now();

          div.classList.add("done");
          next++;

          if (next === 26) {
            const time = ((Date.now() - startTime) / 1000).toFixed(2);
            timeText.textContent = "タイム：" + time + " 秒";

            if (!bestTime || time < bestTime) {
              bestTime = time;
              localStorage.setItem("bestTime25", bestTime);
              bestText.textContent = "ベストタイム：" + bestTime + " 秒";
            }
          }
        }
      };

      game.appendChild(div);
    });
  }

  start();
</script>

</body>
</html>
